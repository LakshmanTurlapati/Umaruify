<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bongo Cat Urume-chan - Live2D Input Overlay</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Main overlay container -->
    <div id="overlay-container">
        <!-- Live2D canvas for animated model -->
        <canvas id="live2d-canvas"></canvas>

        <!-- Sprite layers are added dynamically by sprite-overlay.js -->

        <!-- Keyboard visual overlay (optional, disabled by default) -->
        <div id="keyboard-overlay"></div>
    </div>

    <!-- Settings Panel Toggle -->
    <div id="settings-toggle" title="Settings">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
    </div>

    <!-- Settings Panel -->
    <div id="settings-panel" class="hidden">
        <h3>Settings</h3>

        <div class="setting-group">
            <label>
                <input type="checkbox" id="transparent-bg" checked>
                Transparent Background (for OBS)
            </label>
        </div>

        <div class="setting-group">
            <label>
                <input type="checkbox" id="keyboard-overlay-visible">
                Show Keyboard Overlay
            </label>
        </div>

        <div class="setting-group">
            <label>
                <input type="checkbox" id="mouse-tracking" checked>
                Mouse Tracking (Eye Follow)
            </label>
        </div>

        <div class="setting-group">
            <label>Model Scale</label>
            <input type="range" id="model-scale" min="0.5" max="2" step="0.05" value="1.16">
            <span id="scale-value">1.16</span>
        </div>

        <button id="close-settings">Close</button>
    </div>

    <!-- Debug panel (hidden by default) -->
    <div id="debug-panel" class="hidden">
        <div>State: <span id="state-indicator">idle</span></div>
    </div>

    <!-- Libraries -->
    <!-- PixiJS 7.x -->
    <script src="https://cdn.jsdelivr.net/npm/pixi.js@7.3.2/dist/pixi.min.js"></script>

    <!-- Live2D Cubism Core SDK -->
    <script src="https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js"></script>

    <!-- pixi-live2d-display (Cubism 4 support) -->
    <script src="https://cdn.jsdelivr.net/npm/pixi-live2d-display@0.4.0/dist/cubism4.min.js"></script>

    <!-- Howler.js for audio -->
    <script src="https://cdn.jsdelivr.net/npm/howler@2.2.3/dist/howler.min.js"></script>

    <!-- Application modules (order matters!) -->
    <script src="js/config-mapping.js"></script>
    <script src="js/sound-manager.js"></script>
    <script src="js/sprite-overlay.js"></script>
    <script src="js/keyboard-handler.js"></script>
    <script src="js/live2d-controller.js"></script>
    <script src="js/keyboard-overlay.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
